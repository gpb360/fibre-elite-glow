(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4003],{1503:(e,s,r)=>{"use strict";r.d(s,{BT:()=>c,Wu:()=>m,ZB:()=>d,Zp:()=>l,aR:()=>i});var t=r(7333),a=r(129),n=r(3842);let l=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});l.displayName="Card";let i=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});i.displayName="CardHeader";let d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});d.displayName="CardTitle";let c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});c.displayName="CardDescription";let m=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",r),...a})});m.displayName="CardContent",a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},4869:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>b});var t=r(7333),a=r(129),n=r(6683),l=r(1503),i=r(3637),d=r(8246),c=r(4811),m=r(5581),o=r(5233),x=r(1231);let u=(0,x.A)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),h=(0,x.A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var f=r(8603);let j=(0,x.A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var p=r(8483),N=r(3462),y=r.n(N);function g(){let e=(0,n.useSearchParams)(),{clearCart:s}=(0,p._)(),[r,x]=(0,a.useState)(null),[N,g]=(0,a.useState)(!0),[b,v]=(0,a.useState)(null),w=null==e?void 0:e.get("session_id");if((0,a.useEffect)(()=>{(async()=>{if(!w){v("No session ID provided"),g(!1);return}try{let e=await fetch("/api/checkout-session/".concat(w));if(!e.ok)throw Error("Failed to fetch order details");let r=await e.json();x(r),s()}catch(e){v("Failed to load order details")}finally{g(!1)}})()},[w,s]),N)return(0,t.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,t.jsx)(c.A,{}),(0,t.jsx)("main",{className:"flex-1 bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading your order details..."})]})}),(0,t.jsx)(m.A,{})]});if(b||!r)return(0,t.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,t.jsx)(c.A,{}),(0,t.jsx)("main",{className:"flex-1 bg-gray-50 flex items-center justify-center",children:(0,t.jsx)(l.Zp,{className:"max-w-md mx-auto",children:(0,t.jsxs)(l.Wu,{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Order Not Found"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:b||"We could not find your order details."}),(0,t.jsx)(y(),{href:"/",children:(0,t.jsx)(i.$,{children:"Return to Home"})})]})})}),(0,t.jsx)(m.A,{})]});let k=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:s.toUpperCase()}).format(e/100)};return(0,t.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,t.jsx)(c.A,{}),(0,t.jsx)("main",{className:"flex-1 bg-gray-50 py-8",children:(0,t.jsxs)("div",{className:"container px-4 md:px-6 max-w-3xl mx-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(o.A,{className:"w-10 h-10 text-green-600"})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2","data-testid":"success-message",children:"Order Confirmed!"}),(0,t.jsx)("p",{className:"text-lg text-gray-600",children:"Thank you for your purchase. Your order has been successfully processed."})]}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{children:(0,t.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(u,{className:"h-5 w-5"}),"Order Summary"]})}),(0,t.jsxs)(l.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"font-medium",children:"Order Number:"}),(0,t.jsx)("span",{className:"font-mono text-sm","data-testid":"order-number",children:r.orderNumber})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"font-medium",children:"Status:"}),(0,t.jsx)(d.E,{variant:"default",className:"bg-green-100 text-green-800",children:r.status})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"font-medium",children:"Order Date:"}),(0,t.jsx)("span",{className:"text-sm",children:new Date(r.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"font-medium",children:"Total Amount:"}),(0,t.jsx)("span",{className:"font-semibold text-lg","data-testid":"order-total",children:k(r.amount,r.currency)})]})]})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{children:(0,t.jsx)(l.ZB,{children:"Items Ordered"})}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)("div",{className:"space-y-3",children:r.items.map((e,s)=>(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b last:border-b-0",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Quantity: ",e.quantity]})]}),(0,t.jsx)("span",{className:"font-medium",children:k(e.price*e.quantity*100,r.currency)})]},s))})})]})]}),(0,t.jsxs)(l.Zp,{className:"mt-6",children:[(0,t.jsx)(l.aR,{children:(0,t.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(h,{className:"h-5 w-5"}),"What's Next?"]})}),(0,t.jsx)(l.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:(0,t.jsx)("span",{className:"text-blue-600 font-semibold text-sm",children:"1"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium",children:"Confirmation Email"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["We've sent a confirmation email to ",r.customerEmail," with your order details."]})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:(0,t.jsx)("span",{className:"text-blue-600 font-semibold text-sm",children:"2"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium",children:"Processing & Shipping"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Your order will be processed within 1-2 business days and shipped to your address."})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:(0,t.jsx)("span",{className:"text-blue-600 font-semibold text-sm",children:"3"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium",children:"Tracking Information"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"You'll receive tracking information once your order ships."})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:(0,t.jsx)("span",{className:"text-blue-600 font-semibold text-sm",children:"4"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium",children:"Customer Support"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Need help? Contact our support team anytime."})]})]})]})})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mt-8 justify-center",children:[(0,t.jsx)(i.$,{variant:"outline",asChild:!0,children:(0,t.jsxs)(y(),{href:"/products",children:["Continue Shopping",(0,t.jsx)(f.A,{className:"ml-2 h-4 w-4"})]})}),(0,t.jsxs)(i.$,{variant:"outline",children:[(0,t.jsx)(j,{className:"mr-2 h-4 w-4"}),"Download Receipt"]})]})]})}),(0,t.jsx)(m.A,{})]})}function b(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,t.jsx)(c.A,{}),(0,t.jsx)("main",{className:"flex-1 bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading your order details..."})]})}),(0,t.jsx)(m.A,{})]}),children:(0,t.jsx)(g,{})})}},5233:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(1231).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6683:(e,s,r)=>{"use strict";var t=r(9235);r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})},6917:(e,s,r)=>{Promise.resolve().then(r.bind(r,4869))},8246:(e,s,r)=>{"use strict";r.d(s,{E:()=>i});var t=r(7333);r(129);var a=r(3012),n=r(3842);let l=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:r,...a}=e;return(0,t.jsx)("div",{className:(0,n.cn)(l({variant:r}),s),...a})}},8603:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(1231).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[3885,9870,2698,2272,424,9727,6284,3182,7358],()=>s(6917)),_N_E=e.O()}]);